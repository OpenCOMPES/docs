
<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Data loader &#8212; SED 0.3.3a3 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=3ecbdf7b"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'sed/loader';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://raw.githubusercontent.com/OpenCOMPES/docs/main/sed/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '0.3.3a3';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            true;
        </script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Binning" href="binning.html" />
    <link rel="prev" title="Dataframe Operations" href="dfops.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.3.3a3" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">SED 0.3.3a3 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../workflows/index.html">
    Workflows
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="api.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../misc/contribution.html">
    Development
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/OpenCOMPES/sed" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
          
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../workflows/index.html">
    Workflows
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="api.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../misc/contribution.html">
    Development
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/OpenCOMPES/sed" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="core.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="dfops.html">Dataframe Operations</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Data loader</a></li>
<li class="toctree-l1"><a class="reference internal" href="binning.html">Binning</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibrator.html">Calibrator</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataset.html">Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="diagnostic.html">Diagnostics</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">IO</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Config</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item"><nav class="sidebar-indices-items" aria-labelledby="pst-indices-navigation-heading-2">
  <p id="pst-indices-navigation-heading-2" class="sidebar-indices-items__title" role="heading" aria-level="1">Indices</p>
  <ul class="indices-link">
        <li class="toctree-l1">
          <a class="reference internal"
             href="../genindex.html"
             accesskey="I">General Index</a>
        </li>
        <li class="toctree-l1">
          <a class="reference internal" href="../py-modindex.html">Python Module Index</a>
        </li>
  </ul>
</nav></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="api.html" class="nav-link">API</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Data loader</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="data-loader">
<h1>Data loader<a class="headerlink" href="#data-loader" title="Permalink to this heading">#</a></h1>
<section id="module-sed.loader.loader_interface">
<span id="id1"></span><span id="loader-interface"></span><h2>Loader Interface<a class="headerlink" href="#module-sed.loader.loader_interface" title="Permalink to this heading">#</a></h2>
<p>Interface to select a specified loader</p>
<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.loader_interface.get_loader">
<span class="sig-prename descclassname"><span class="pre">sed.loader.loader_interface.</span></span><span class="sig-name descname"><span class="pre">get_loader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loader_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/loader_interface.html#get_loader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.loader_interface.get_loader" title="Permalink to this definition">#</a></dt>
<dd><p>Helper function to get the loader object from it’s given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>loader_name</strong> (<em>str</em>) – Name of the loader</p></li>
<li><p><strong>config</strong> (<em>dict</em><em>, </em><em>optional</em>) – Configuration dictionary. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – Raised if the loader cannot be found.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The loader object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sed.loader.base.loader.BaseLoader" title="sed.loader.base.loader.BaseLoader">BaseLoader</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.loader_interface.get_names_of_all_loaders">
<span class="sig-prename descclassname"><span class="pre">sed.loader.loader_interface.</span></span><span class="sig-name descname"><span class="pre">get_names_of_all_loaders</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/loader_interface.html#get_names_of_all_loaders"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.loader_interface.get_names_of_all_loaders" title="Permalink to this definition">#</a></dt>
<dd><p>Helper function to populate a list of all available loaders.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of all detected loader names.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-sed.loader.base.loader">
<span id="abstract-baseloader"></span><span id="base-loader"></span><h2>Abstract BaseLoader<a class="headerlink" href="#module-sed.loader.base.loader" title="Permalink to this heading">#</a></h2>
<p>The abstract class off of which to implement loaders.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sed.loader.base.loader.BaseLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sed.loader.base.loader.</span></span><span class="sig-name descname"><span class="pre">BaseLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/base/loader.html#BaseLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.base.loader.BaseLoader" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>The abstract class off of which to implement loaders.</p>
<p>The reader’s folder name is the identifier.
For this BaseLoader with filename base/loader.py the ID  becomes ‘base’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em><em>, </em><em>optional</em>) – Config dictionary. Defaults to None.</p></li>
<li><p><strong>meta_handler</strong> (<a class="reference internal" href="metadata.html#sed.core.metadata.MetaHandler" title="sed.core.metadata.MetaHandler"><em>MetaHandler</em></a><em>, </em><em>optional</em>) – MetaHandler object. Defaults to None.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.base.loader.BaseLoader.supported_file_types">
<span class="sig-name descname"><span class="pre">supported_file_types</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.List</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#sed.loader.base.loader.BaseLoader.supported_file_types" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.base.loader.BaseLoader.read_dataframe">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collect_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/base/loader.html#BaseLoader.read_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.base.loader.BaseLoader.read_dataframe" title="Permalink to this definition">#</a></dt>
<dd><p>Reads data from given files, folder, or runs and returns a dask dataframe
and corresponding metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – File path(s) to process.
Defaults to None.</p></li>
<li><p><strong>folders</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Path to folder(s) where files
are stored. Path has priority such that if it’s specified, the specified
files will be ignored. Defaults to None.</p></li>
<li><p><strong>runs</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Run identifier(s). Corresponding
files will be located in the location provided by <code class="docutils literal notranslate"><span class="pre">folders</span></code>. Takes
precedence over <code class="docutils literal notranslate"><span class="pre">files</span></code> and <code class="docutils literal notranslate"><span class="pre">folders</span></code>. Defaults to None.</p></li>
<li><p><strong>ftype</strong> (<em>str</em><em>, </em><em>optional</em>) – File type to read (‘parquet’, ‘json’, ‘csv’, etc).
If a folder path is given, all files with the specified extension are
read into the dataframe in the reading order. Defaults to None.</p></li>
<li><p><strong>metadata</strong> (<em>dict</em><em>, </em><em>optional</em>) – Manual metadata dictionary. Auto-generated
metadata will be added to it. Defaults to None.</p></li>
<li><p><strong>collect_metadata</strong> (<em>bool</em>) – Option to collect metadata from files. Requires
a valid config dict. Defaults to False.</p></li>
<li><p><strong>**kwds</strong> – keyword arguments. See description in respective loader.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dask dataframe, timed dataframe and metadata
read from specified files.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[ddf.DataFrame, dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.base.loader.BaseLoader.get_files_from_run_id">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_files_from_run_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/base/loader.html#BaseLoader.get_files_from_run_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.base.loader.BaseLoader.get_files_from_run_id" title="Permalink to this definition">#</a></dt>
<dd><p>Locate the files for a given run identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>run_id</strong> (<em>str</em>) – The run identifier to locate.</p></li>
<li><p><strong>folders</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – The directory(ies) where the raw
data is located. Defaults to None.</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The file extension. Defaults to None.</p></li>
<li><p><strong>kwds</strong> – Keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of files for the given run.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.base.loader.BaseLoader.get_count_rate">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_count_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/base/loader.html#BaseLoader.get_count_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.base.loader.BaseLoader.get_count_rate" title="Permalink to this definition">#</a></dt>
<dd><p>Create count rate data for the files specified in <code class="docutils literal notranslate"><span class="pre">fids</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fids</strong> (<em>Sequence</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – fids (Sequence[int]): the file ids to
include. Defaults to list of all file ids.</p></li>
<li><p><strong>kwds</strong> – Keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Arrays containing countrate and seconds
into the scan.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[np.ndarray, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.base.loader.BaseLoader.get_elapsed_time">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_elapsed_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/base/loader.html#BaseLoader.get_elapsed_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.base.loader.BaseLoader.get_elapsed_time" title="Permalink to this definition">#</a></dt>
<dd><p>Return the elapsed time in the specified in <code class="docutils literal notranslate"><span class="pre">fids</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fids</strong> (<em>Sequence</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – fids (Sequence[int]): the file ids to
include. Defaults to list of all file ids.</p></li>
<li><p><strong>kwds</strong> – Keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The elapsed time in the files in seconds.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.base.loader.LOADER">
<span class="sig-prename descclassname"><span class="pre">sed.loader.base.loader.</span></span><span class="sig-name descname"><span class="pre">LOADER</span></span><a class="headerlink" href="#sed.loader.base.loader.LOADER" title="Permalink to this definition">#</a></dt>
<dd><p>alias of <a class="reference internal" href="#sed.loader.base.loader.BaseLoader" title="sed.loader.base.loader.BaseLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLoader</span></code></a></p>
</dd></dl>

</section>
<section id="module-sed.loader.generic.loader">
<span id="genericloader"></span><h2>GenericLoader<a class="headerlink" href="#module-sed.loader.generic.loader" title="Permalink to this heading">#</a></h2>
<p>module sed.loader.mpes, code for loading hdf5 files delayed into a dask dataframe.
Mostly ported from <a class="github reference external" href="https://github.com/mpes-kit/mpes">mpes-kit/mpes</a>.
&#64;author: L. Rettig</p>
<dl class="py class">
<dt class="sig sig-object py" id="sed.loader.generic.loader.GenericLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sed.loader.generic.loader.</span></span><span class="sig-name descname"><span class="pre">GenericLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/generic/loader.html#GenericLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.generic.loader.GenericLoader" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sed.loader.base.loader.BaseLoader" title="sed.loader.base.loader.BaseLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLoader</span></code></a></p>
<p>Dask implementation of the Loader. Reads from various file types using the
utilities of Dask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em><em>, </em><em>optional</em>) – Config dictionary. Defaults to None.</p></li>
<li><p><strong>meta_handler</strong> (<a class="reference internal" href="metadata.html#sed.core.metadata.MetaHandler" title="sed.core.metadata.MetaHandler"><em>MetaHandler</em></a><em>, </em><em>optional</em>) – MetaHandler object. Defaults to None.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.generic.loader.GenericLoader.supported_file_types">
<span class="sig-name descname"><span class="pre">supported_file_types</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.List</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['parquet',</span> <span class="pre">'csv',</span> <span class="pre">'json']</span></em><a class="headerlink" href="#sed.loader.generic.loader.GenericLoader.supported_file_types" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.generic.loader.GenericLoader.read_dataframe">
<span class="sig-name descname"><span class="pre">read_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collect_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/generic/loader.html#GenericLoader.read_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.generic.loader.GenericLoader.read_dataframe" title="Permalink to this definition">#</a></dt>
<dd><p>Read stored files from a folder into a dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – File path(s) to process.
Defaults to None.</p></li>
<li><p><strong>folders</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Path to folder(s) where files
are stored. Path has priority such that if it’s specified, the specified
files will be ignored. Defaults to None.</p></li>
<li><p><strong>runs</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Run identifier(s). Corresponding
files will be located in the location provided by <code class="docutils literal notranslate"><span class="pre">folders</span></code>. Takes
precedence over <code class="docutils literal notranslate"><span class="pre">files</span></code> and <code class="docutils literal notranslate"><span class="pre">folders</span></code>. Defaults to None.</p></li>
<li><p><strong>ftype</strong> (<em>str</em><em>, </em><em>optional</em>) – File type to read (‘parquet’, ‘json’, ‘csv’, etc).
If a folder path is given, all files with the specified extension are
read into the dataframe in the reading order. Defaults to “parquet”.</p></li>
<li><p><strong>metadata</strong> (<em>dict</em><em>, </em><em>optional</em>) – Manual meta data dictionary. Auto-generated
meta data are added to it. Defaults to None.</p></li>
<li><p><strong>collect_metadata</strong> (<em>bool</em>) – Option to collect metadata from files. Requires
a valid config dict. Defaults to False.</p></li>
<li><p><strong>**kwds</strong> – keyword arguments. See the keyword arguments for the specific file
parser in``dask.dataframe`` module.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – Raised if neither files nor folder provided.</p></li>
<li><p><strong>FileNotFoundError</strong> – Raised if the files or folder cannot be found.</p></li>
<li><p><strong>ValueError</strong> – Raised if the file type is not supported.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dask dataframe, timed dataframe and metadata
read from specified files.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[ddf.DataFrame, dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.generic.loader.GenericLoader.get_files_from_run_id">
<span class="sig-name descname"><span class="pre">get_files_from_run_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/generic/loader.html#GenericLoader.get_files_from_run_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.generic.loader.GenericLoader.get_files_from_run_id" title="Permalink to this definition">#</a></dt>
<dd><p>Locate the files for a given run identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>run_id</strong> (<em>str</em>) – The run identifier to locate.</p></li>
<li><p><strong>folders</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – The directory(ies) where the raw
data is located. Defaults to None.</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The file extension. Defaults to “h5”.</p></li>
<li><p><strong>kwds</strong> – Keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Path to the location of run data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.generic.loader.GenericLoader.get_count_rate">
<span class="sig-name descname"><span class="pre">get_count_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/generic/loader.html#GenericLoader.get_count_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.generic.loader.GenericLoader.get_count_rate" title="Permalink to this definition">#</a></dt>
<dd><p>Create count rate data for the files specified in <code class="docutils literal notranslate"><span class="pre">fids</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fids</strong> (<em>Sequence</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – fids (Sequence[int]): the file ids to
include. Defaults to list of all file ids.</p></li>
<li><p><strong>kwds</strong> – Keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Arrays containing countrate and seconds
into the scan.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[np.ndarray, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.generic.loader.GenericLoader.get_elapsed_time">
<span class="sig-name descname"><span class="pre">get_elapsed_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/generic/loader.html#GenericLoader.get_elapsed_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.generic.loader.GenericLoader.get_elapsed_time" title="Permalink to this definition">#</a></dt>
<dd><p>Return the elapsed time in the files specified in <code class="docutils literal notranslate"><span class="pre">fids</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fids</strong> (<em>Sequence</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – fids (Sequence[int]): the file ids to
include. Defaults to list of all file ids.</p></li>
<li><p><strong>kwds</strong> – Keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The elapsed time in the files in seconds.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.generic.loader.GenericLoader.files">
<span class="sig-name descname"><span class="pre">files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List[str]</span></em><a class="headerlink" href="#sed.loader.generic.loader.GenericLoader.files" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.generic.loader.GenericLoader.runs">
<span class="sig-name descname"><span class="pre">runs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List[str]</span></em><a class="headerlink" href="#sed.loader.generic.loader.GenericLoader.runs" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.generic.loader.GenericLoader.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict[Any,</span> <span class="pre">Any]</span></em><a class="headerlink" href="#sed.loader.generic.loader.GenericLoader.metadata" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.generic.loader.LOADER">
<span class="sig-prename descclassname"><span class="pre">sed.loader.generic.loader.</span></span><span class="sig-name descname"><span class="pre">LOADER</span></span><a class="headerlink" href="#sed.loader.generic.loader.LOADER" title="Permalink to this definition">#</a></dt>
<dd><p>alias of <a class="reference internal" href="#sed.loader.generic.loader.GenericLoader" title="sed.loader.generic.loader.GenericLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericLoader</span></code></a></p>
</dd></dl>

</section>
<section id="module-sed.loader.mpes.loader">
<span id="mpesloader"></span><h2>MpesLoader<a class="headerlink" href="#module-sed.loader.mpes.loader" title="Permalink to this heading">#</a></h2>
<p>module sed.loader.mpes, code for loading hdf5 files delayed into a dask dataframe.
Mostly ported from <a class="github reference external" href="https://github.com/mpes-kit/mpes">mpes-kit/mpes</a>.
&#64;author: L. Rettig</p>
<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.load_h5_in_memory">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mpes.loader.</span></span><span class="sig-name descname"><span class="pre">load_h5_in_memory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#load_h5_in_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.load_h5_in_memory" title="Permalink to this definition">#</a></dt>
<dd><p>Load an HDF5 file entirely into memory and open it with h5py.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>str</em>) – Path to the .h5 file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An h5py File object representing the in-memory HDF5 file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>h5py.File</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.hdf5_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mpes.loader.</span></span><span class="sig-name descname"><span class="pre">hdf5_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_stamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_stamp_alias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'timeStamps'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms_markers_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'msMarkers'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_event_time_stamp_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'FirstEventTimeStamp'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#hdf5_to_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.hdf5_to_dataframe" title="Permalink to this definition">#</a></dt>
<dd><p>Function to read a selection of hdf5-files, and generate a delayed dask
dataframe from provided groups in the files. Optionally, aliases can be defined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – A list of the file paths to load.</p></li>
<li><p><strong>group_names</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – hdf5 group names to load. Defaults to load
all groups containing “Stream”</p></li>
<li><p><strong>alias_dict</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Dictionary of aliases for the dataframe
columns. Keys are the hdf5 groupnames, and values the aliases. If an alias
is not found, its group name is used. Defaults to read the attribute
“Name” from each group.</p></li>
<li><p><strong>time_stamps</strong> (<em>bool</em><em>, </em><em>optional</em>) – Option to calculate time stamps. Defaults to
False.</p></li>
<li><p><strong>time_stamp_alias</strong> (<em>str</em>) – Alias name for the timestamp column.
Defaults to “timeStamps”.</p></li>
<li><p><strong>ms_markers_group</strong> (<em>str</em>) – h5 column containing timestamp information.
Defaults to “msMarkers”.</p></li>
<li><p><strong>first_event_time_stamp_key</strong> (<em>str</em>) – h5 attribute containing the start
timestamp of a file. Defaults to “FirstEventTimeStamp”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The delayed Dask DataFrame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ddf.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.hdf5_to_timed_dataframe">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mpes.loader.</span></span><span class="sig-name descname"><span class="pre">hdf5_to_timed_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_stamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_stamp_alias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'timeStamps'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms_markers_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'msMarkers'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_event_time_stamp_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'FirstEventTimeStamp'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#hdf5_to_timed_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.hdf5_to_timed_dataframe" title="Permalink to this definition">#</a></dt>
<dd><p>Function to read a selection of hdf5-files, and generate a delayed dask
dataframe from provided groups in the files. Optionally, aliases can be defined.
Returns a dataframe for evenly spaced time intervals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – A list of the file paths to load.</p></li>
<li><p><strong>group_names</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – hdf5 group names to load. Defaults to load
all groups containing “Stream”</p></li>
<li><p><strong>alias_dict</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Dictionary of aliases for the dataframe
columns. Keys are the hdf5 groupnames, and values the aliases. If an alias
is not found, its group name is used. Defaults to read the attribute
“Name” from each group.</p></li>
<li><p><strong>time_stamps</strong> (<em>bool</em><em>, </em><em>optional</em>) – Option to calculate time stamps. Defaults to
False.</p></li>
<li><p><strong>time_stamp_alias</strong> (<em>str</em>) – Alias name for the timestamp column.
Defaults to “timeStamps”.</p></li>
<li><p><strong>ms_markers_group</strong> (<em>str</em>) – h5 column containing timestamp information.
Defaults to “msMarkers”.</p></li>
<li><p><strong>first_event_time_stamp_key</strong> (<em>str</em>) – h5 attribute containing the start
timestamp of a file. Defaults to “FirstEventTimeStamp”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The delayed Dask DataFrame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ddf.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.get_groups_and_aliases">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mpes.loader.</span></span><span class="sig-name descname"><span class="pre">get_groups_and_aliases</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Name'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#get_groups_and_aliases"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.get_groups_and_aliases" title="Permalink to this definition">#</a></dt>
<dd><p>Read groups and aliases from a provided hdf5 file handle</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5file</strong> (<em>h5py.File</em>) – The hdf5 file handle</p></li>
<li><p><strong>search_pattern</strong> (<em>str</em><em>, </em><em>optional</em>) – Search pattern to select groups. Defaults to include all groups.</p></li>
<li><p><strong>alias_key</strong> (<em>str</em><em>, </em><em>optional</em>) – Attribute key where aliases are stored. Defaults to “Name”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The list of groupnames and the alias dictionary parsed from the file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List[str], Dict[str, str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.hdf5_to_array">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mpes.loader.</span></span><span class="sig-name descname"><span class="pre">hdf5_to_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'float32'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_stamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms_markers_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'msMarkers'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_event_time_stamp_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'FirstEventTimeStamp'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#hdf5_to_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.hdf5_to_array" title="Permalink to this definition">#</a></dt>
<dd><p>Reads the content of the given groups in an hdf5 file, and returns a
2-dimensional array with the corresponding values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5filename</strong> (<em>str</em>) – hdf5 file name to read from</p></li>
<li><p><strong>group_names</strong> (<em>str</em>) – group names to read</p></li>
<li><p><strong>data_type</strong> (<em>str</em><em>, </em><em>optional</em>) – Data type of the output data. Defaults to “float32”.</p></li>
<li><p><strong>time_stamps</strong> (<em>bool</em><em>, </em><em>optional</em>) – Option to calculate time stamps. Defaults to False.</p></li>
<li><p><strong>ms_markers_group</strong> (<em>str</em>) – h5 column containing timestamp information.
Defaults to “msMarkers”.</p></li>
<li><p><strong>first_event_time_stamp_key</strong> (<em>str</em>) – h5 attribute containing the start
timestamp of a file. Defaults to “FirstEventTimeStamp”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The 2-dimensional data array containing the values of the groups.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.hdf5_to_timed_array">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mpes.loader.</span></span><span class="sig-name descname"><span class="pre">hdf5_to_timed_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'float32'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_stamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms_markers_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'msMarkers'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_event_time_stamp_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'FirstEventTimeStamp'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#hdf5_to_timed_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.hdf5_to_timed_array" title="Permalink to this definition">#</a></dt>
<dd><p>Reads the content of the given groups in an hdf5 file, and returns a
timed version of a 2-dimensional array with the corresponding values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5filename</strong> (<em>str</em>) – hdf5 file name to read from</p></li>
<li><p><strong>group_names</strong> (<em>str</em>) – group names to read</p></li>
<li><p><strong>data_type</strong> (<em>str</em><em>, </em><em>optional</em>) – Data type of the output data. Defaults to “float32”.</p></li>
<li><p><strong>time_stamps</strong> (<em>bool</em><em>, </em><em>optional</em>) – Option to calculate time stamps. Defaults to False.</p></li>
<li><p><strong>ms_markers_group</strong> (<em>str</em>) – h5 column containing timestamp information.
Defaults to “msMarkers”.</p></li>
<li><p><strong>first_event_time_stamp_key</strong> (<em>str</em>) – h5 attribute containing the start
timestamp of a file. Defaults to “FirstEventTimeStamp”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the array of the values at evenly spaced timing obtained from
the ms_markers.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.get_attribute">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mpes.loader.</span></span><span class="sig-name descname"><span class="pre">get_attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5group</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#get_attribute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.get_attribute" title="Permalink to this definition">#</a></dt>
<dd><p>Reads, decodes and returns an attribute from an hdf5 group</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5group</strong> (<em>h5py.Group</em>) – The hdf5 group to read from</p></li>
<li><p><strong>attribute</strong> (<em>str</em>) – The name of the attribute</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parsed attribute data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.get_count_rate">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mpes.loader.</span></span><span class="sig-name descname"><span class="pre">get_count_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms_markers_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'msMarkers'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#get_count_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.get_count_rate" title="Permalink to this definition">#</a></dt>
<dd><p>Create count rate in the file from the msMarker column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5file</strong> (<em>h5py.File</em>) – The h5file from which to get the count rate.</p></li>
<li><p><strong>ms_markers_group</strong> (<em>str</em><em>, </em><em>optional</em>) – The hdf5 group where the millisecond markers
are stored. Defaults to “msMarkers”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The count rate in Hz and the seconds into the
scan.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[np.ndarray, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.get_elapsed_time">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mpes.loader.</span></span><span class="sig-name descname"><span class="pre">get_elapsed_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms_markers_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'msMarkers'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#get_elapsed_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.get_elapsed_time" title="Permalink to this definition">#</a></dt>
<dd><p>Return the elapsed time in the file from the msMarkers wave</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5file</strong> (<em>h5py.File</em>) – The h5file from which to get the count rate.</p></li>
<li><p><strong>ms_markers_group</strong> (<em>str</em><em>, </em><em>optional</em>) – The hdf5 group where the millisecond markers
are stored. Defaults to “msMarkers”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The acquisition time of the file in seconds.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.get_archiver_data">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mpes.loader.</span></span><span class="sig-name descname"><span class="pre">get_archiver_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">archiver_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archiver_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ts_from</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ts_to</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#get_archiver_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.get_archiver_data" title="Permalink to this definition">#</a></dt>
<dd><p>Extract time stamps and corresponding data from and EPICS archiver instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>archiver_url</strong> (<em>str</em>) – URL of the archiver data extraction interface</p></li>
<li><p><strong>archiver_channel</strong> (<em>str</em>) – EPICS channel to extract data for</p></li>
<li><p><strong>ts_from</strong> (<em>float</em>) – starting time stamp of the range of interest</p></li>
<li><p><strong>ts_to</strong> (<em>float</em>) – ending time stamp of the range of interest</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The extracted time stamps and corresponding data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List, List]</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.MpesLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sed.loader.mpes.loader.</span></span><span class="sig-name descname"><span class="pre">MpesLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#MpesLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.MpesLoader" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sed.loader.base.loader.BaseLoader" title="sed.loader.base.loader.BaseLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLoader</span></code></a></p>
<p>Mpes implementation of the Loader. Reads from h5 files or folders of the
SPECS Metis 1000 (FHI Berlin)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em><em>, </em><em>optional</em>) – Config dictionary. Defaults to None.</p></li>
<li><p><strong>meta_handler</strong> (<a class="reference internal" href="metadata.html#sed.core.metadata.MetaHandler" title="sed.core.metadata.MetaHandler"><em>MetaHandler</em></a><em>, </em><em>optional</em>) – MetaHandler object. Defaults to None.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.MpesLoader.supported_file_types">
<span class="sig-name descname"><span class="pre">supported_file_types</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.List</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['h5']</span></em><a class="headerlink" href="#sed.loader.mpes.loader.MpesLoader.supported_file_types" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.MpesLoader.read_dataframe">
<span class="sig-name descname"><span class="pre">read_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'h5'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collect_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_stamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#MpesLoader.read_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.MpesLoader.read_dataframe" title="Permalink to this definition">#</a></dt>
<dd><p>Read stored hdf5 files from a list or from folder and returns a dask
dataframe and corresponding metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – File path(s) to process.
Defaults to None.</p></li>
<li><p><strong>folders</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Path to folder(s) where files
are stored. Path has priority such that if it’s specified, the specified
files will be ignored. Defaults to None.</p></li>
<li><p><strong>runs</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Run identifier(s). Corresponding
files will be located in the location provided by <code class="docutils literal notranslate"><span class="pre">folders</span></code>. Takes
precedence over <code class="docutils literal notranslate"><span class="pre">files</span></code> and <code class="docutils literal notranslate"><span class="pre">folders</span></code>. Defaults to None.</p></li>
<li><p><strong>ftype</strong> (<em>str</em><em>, </em><em>optional</em>) – File extension to use. If a folder path is given,
all files with the specified extension are read into the dataframe
in the reading order. Defaults to “h5”.</p></li>
<li><p><strong>metadata</strong> (<em>dict</em><em>, </em><em>optional</em>) – Manual meta data dictionary. Auto-generated
meta data are added to it. Defaults to None.</p></li>
<li><p><strong>collect_metadata</strong> (<em>bool</em>) – Option to collect metadata from files. Requires
a valid config dict. Defaults to False.</p></li>
<li><p><strong>time_stamps</strong> (<em>bool</em><em>, </em><em>optional</em>) – Option to create a time_stamp column in
the dataframe from ms-Markers in the files. Defaults to False.</p></li>
<li><p><strong>**kwds</strong> – <p>Keyword parameters.</p>
<ul>
<li><p><strong>hdf5_groupnames</strong> : List of groupnames to look for in the file.</p></li>
<li><p><strong>hdf5_aliases</strong>: Dictionary of aliases for the groupnames.</p></li>
<li><p><strong>time_stamp_alias</strong>: Alias for the timestamp column</p></li>
<li><p><strong>ms_markers_group</strong>: Group name of the millisecond marker column.</p></li>
<li><p><strong>first_event_time_stamp_key</strong>: Attribute name containing the start
timestamp of the file.</p></li>
</ul>
<p>Additional keywords are passed to <code class="docutils literal notranslate"><span class="pre">hdf5_to_dataframe</span></code>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – raised if neither files or folder provided.</p></li>
<li><p><strong>FileNotFoundError</strong> – Raised if a file or folder is not found.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dask dataframe, timed Dask
dataframe and metadata read from specified files.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[ddf.DataFrame, ddf.DataFrame, dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.MpesLoader.get_files_from_run_id">
<span class="sig-name descname"><span class="pre">get_files_from_run_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'h5'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#MpesLoader.get_files_from_run_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.MpesLoader.get_files_from_run_id" title="Permalink to this definition">#</a></dt>
<dd><p>Locate the files for a given run identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>run_id</strong> (<em>str</em>) – The run identifier to locate.</p></li>
<li><p><strong>folders</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – The directory(ies) where the raw
data is located. Defaults to config[“core”][“base_folder”]</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The file extension. Defaults to “h5”.</p></li>
<li><p><strong>kwds</strong> – Keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of file path strings to the location of run data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.MpesLoader.get_start_and_end_time">
<span class="sig-name descname"><span class="pre">get_start_and_end_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#MpesLoader.get_start_and_end_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.MpesLoader.get_start_and_end_time" title="Permalink to this definition">#</a></dt>
<dd><p>Extract the start and end time stamps from the loaded files</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple containing the start and end time stamps</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.MpesLoader.gather_metadata">
<span class="sig-name descname"><span class="pre">gather_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#MpesLoader.gather_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.MpesLoader.gather_metadata" title="Permalink to this definition">#</a></dt>
<dd><p>Collect meta data from files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>) – List of files loaded</p></li>
<li><p><strong>metadata</strong> (<em>dict</em><em>, </em><em>optional</em>) – Manual meta data dictionary. Auto-generated
meta data are added to it. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The completed metadata dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.MpesLoader.get_count_rate">
<span class="sig-name descname"><span class="pre">get_count_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#MpesLoader.get_count_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.MpesLoader.get_count_rate" title="Permalink to this definition">#</a></dt>
<dd><p>Create count rate from the msMarker column for the files specified in
<code class="docutils literal notranslate"><span class="pre">fids</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fids</strong> (<em>Sequence</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – fids (Sequence[int]): the file ids to
include. Defaults to list of all file ids.</p></li>
<li><p><strong>kwds</strong> – <p>Keyword arguments:</p>
<ul>
<li><p><strong>ms_markers_group</strong>: Name of the hdf5 group containing the ms-markers</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Arrays containing countrate and seconds
into the scan.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[np.ndarray, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.MpesLoader.get_elapsed_time">
<span class="sig-name descname"><span class="pre">get_elapsed_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mpes/loader.html#MpesLoader.get_elapsed_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mpes.loader.MpesLoader.get_elapsed_time" title="Permalink to this definition">#</a></dt>
<dd><p>Return the elapsed time in the files specified in <code class="docutils literal notranslate"><span class="pre">fids</span></code> from
the msMarkers column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fids</strong> (<em>Sequence</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – fids (Sequence[int]): the file ids to
include. Defaults to list of all file ids.</p></li>
<li><p><strong>kwds</strong> – <p>Keyword arguments:</p>
<ul>
<li><p><strong>ms_markers_group</strong>: Name of the hdf5 group containing the ms-markers</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The elapsed time in the files in seconds.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.MpesLoader.files">
<span class="sig-name descname"><span class="pre">files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List[str]</span></em><a class="headerlink" href="#sed.loader.mpes.loader.MpesLoader.files" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.MpesLoader.runs">
<span class="sig-name descname"><span class="pre">runs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List[str]</span></em><a class="headerlink" href="#sed.loader.mpes.loader.MpesLoader.runs" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.MpesLoader.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict[Any,</span> <span class="pre">Any]</span></em><a class="headerlink" href="#sed.loader.mpes.loader.MpesLoader.metadata" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.mpes.loader.LOADER">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mpes.loader.</span></span><span class="sig-name descname"><span class="pre">LOADER</span></span><a class="headerlink" href="#sed.loader.mpes.loader.LOADER" title="Permalink to this definition">#</a></dt>
<dd><p>alias of <a class="reference internal" href="#sed.loader.mpes.loader.MpesLoader" title="sed.loader.mpes.loader.MpesLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">MpesLoader</span></code></a></p>
</dd></dl>

</section>
<section id="module-sed.loader.flash.loader">
<span id="flashloader"></span><h2>FlashLoader<a class="headerlink" href="#module-sed.loader.flash.loader" title="Permalink to this heading">#</a></h2>
<p>This module implements the flash data loader.
This loader currently supports hextof, wespe and instruments with similar structure.
The raw hdf5 data is combined and saved into buffer files and loaded as a dask dataframe.
The dataframe is a amalgamation of all h5 files for a combination of runs, where the NaNs are
automatically forward filled across different files.
This can then be saved as a parquet for out-of-sed processing and reread back to access other
sed functionality.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sed.loader.flash.loader.</span></span><span class="sig-name descname"><span class="pre">FlashLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sed.loader.base.loader.BaseLoader" title="sed.loader.base.loader.BaseLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLoader</span></code></a></p>
<p>The class generates multiindexed multidimensional pandas dataframes from the new FLASH
dataformat resolved by both macro and microbunches alongside electrons.
Only the read_dataframe (inherited and implemented) method is accessed by other modules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span>) – </p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.supported_file_types">
<span class="sig-name descname"><span class="pre">supported_file_types</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.List</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['h5']</span></em><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.supported_file_types" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.initialize_paths">
<span class="sig-name descname"><span class="pre">initialize_paths</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.initialize_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.initialize_paths" title="Permalink to this definition">#</a></dt>
<dd><p>Initializes the paths based on the configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple containing a list of raw data directories
paths and the parquet data directory path.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[List[Path], Path]</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – If required values are missing from the configuration.</p></li>
<li><p><strong>FileNotFoundError</strong> – If the raw data directories are not found.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.get_files_from_run_id">
<span class="sig-name descname"><span class="pre">get_files_from_run_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'h5'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.get_files_from_run_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.get_files_from_run_id" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a list of filenames for a given run located in the specified directory
for the specified data acquisition (daq).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>run_id</strong> (<em>str</em>) – The run identifier to locate.</p></li>
<li><p><strong>folders</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – The directory(ies) where the raw
data is located. Defaults to config[“core”][“base_folder”].</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The file extension. Defaults to “h5”.</p></li>
<li><p><strong>kwds</strong> – Keyword arguments:
- daq (str): The data acquisition identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of path strings representing the collected file names.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If no files are found for the given run in the directory.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.available_channels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">available_channels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span></em><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.available_channels" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the channel names that are available for use,
excluding pulseId, defined by the json file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.get_channels">
<span class="sig-name descname"><span class="pre">get_channels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.get_channels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.get_channels" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a list of channels associated with the specified format(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>formats</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) – The desired format(s)
(‘per_pulse’, ‘per_electron’, ‘per_train’, ‘all’).</p></li>
<li><p><strong>index</strong> (<em>bool</em>) – If True, includes channels from the multi_index.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of channels with the specified format(s).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.reset_multi_index">
<span class="sig-name descname"><span class="pre">reset_multi_index</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.reset_multi_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.reset_multi_index" title="Permalink to this definition">#</a></dt>
<dd><p>Resets the index per pulse and electron</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.create_multi_index_per_electron">
<span class="sig-name descname"><span class="pre">create_multi_index_per_electron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.create_multi_index_per_electron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.create_multi_index_per_electron" title="Permalink to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Creates an index per electron using pulseId for usage with the electron</dt><dd><p>resolved pandas DataFrame.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>h5_file</strong> (<em>h5py.File</em>) – The HDF5 file object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>This method relies on the ‘pulseId’ channel to determine</dt><dd><p>the macrobunch IDs.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>It creates a MultiIndex with trainId, pulseId, and electronId</dt><dd><p>as the index levels.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.create_multi_index_per_pulse">
<span class="sig-name descname"><span class="pre">create_multi_index_per_pulse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">np_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.create_multi_index_per_pulse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.create_multi_index_per_pulse" title="Permalink to this definition">#</a></dt>
<dd><p>Creates an index per pulse using a pulse resolved channel’s macrobunch ID, for usage with
the pulse resolved pandas DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_id</strong> (<em>Series</em>) – The train ID Series.</p></li>
<li><p><strong>np_array</strong> (<em>np.ndarray</em>) – The numpy array containing the pulse resolved data.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This method creates a MultiIndex with trainId and pulseId as the index levels.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.create_numpy_array_per_channel">
<span class="sig-name descname"><span class="pre">create_numpy_array_per_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.create_numpy_array_per_channel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.create_numpy_array_per_channel" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a numpy array for a given channel name for a given file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_file</strong> (<em>h5py.File</em>) – The h5py file object.</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The name of the channel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the train ID Series and the numpy array
for the channel’s data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[Series, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.create_dataframe_per_electron">
<span class="sig-name descname"><span class="pre">create_dataframe_per_electron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">np_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.create_dataframe_per_electron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.create_dataframe_per_electron" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a pandas DataFrame for a given channel name of type [per electron].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>np_array</strong> (<em>np.ndarray</em>) – The numpy array containing the channel data.</p></li>
<li><p><strong>train_id</strong> (<em>Series</em>) – The train ID Series.</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The name of the channel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pandas DataFrame for the channel’s data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The microbunch resolved data is exploded and converted to a DataFrame. The MultiIndex
is set, and the NaN values are dropped, alongside the pulseId = 0 (meaningless).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.create_dataframe_per_pulse">
<span class="sig-name descname"><span class="pre">create_dataframe_per_pulse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">np_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.create_dataframe_per_pulse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.create_dataframe_per_pulse" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a pandas DataFrame for a given channel name of type [per pulse].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>np_array</strong> (<em>np.ndarray</em>) – The numpy array containing the channel data.</p></li>
<li><p><strong>train_id</strong> (<em>Series</em>) – The train ID Series.</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The name of the channel.</p></li>
<li><p><strong>channel_dict</strong> (<em>dict</em>) – The dictionary containing channel parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pandas DataFrame for the channel’s data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>For auxiliary channels, the macrobunch resolved data is repeated 499 times to be
compared to electron resolved data for each auxiliary channel. The data is then
converted to a multicolumn DataFrame.</p></li>
<li><p>For all other pulse resolved channels, the macrobunch resolved data is exploded
to a DataFrame and the MultiIndex is set.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.create_dataframe_per_train">
<span class="sig-name descname"><span class="pre">create_dataframe_per_train</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">np_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.create_dataframe_per_train"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.create_dataframe_per_train" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a pandas DataFrame for a given channel name of type [per train].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>np_array</strong> (<em>np.ndarray</em>) – The numpy array containing the channel data.</p></li>
<li><p><strong>train_id</strong> (<em>Series</em>) – The train ID Series.</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The name of the channel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pandas DataFrame for the channel’s data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.create_dataframe_per_channel">
<span class="sig-name descname"><span class="pre">create_dataframe_per_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.create_dataframe_per_channel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.create_dataframe_per_channel" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a pandas DataFrame for a given channel name from a given file.</p>
<p>This method takes an h5py.File object <cite>h5_file</cite> and a channel name <cite>channel</cite>, and returns
a pandas DataFrame containing the data for that channel from the file. The format of the
DataFrame depends on the channel’s format specified in the configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_file</strong> (<em>h5py.File</em>) – The h5py.File object representing the HDF5 file.</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The name of the channel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pandas Series or DataFrame representing the channel’s data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[Series, DataFrame]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the channel has an undefined format.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.concatenate_channels">
<span class="sig-name descname"><span class="pre">concatenate_channels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.concatenate_channels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.concatenate_channels" title="Permalink to this definition">#</a></dt>
<dd><p>Concatenates the channels from the provided h5py.File into a pandas DataFrame.</p>
<p>This method takes an h5py.File object <cite>h5_file</cite> and concatenates the channels present in
the file into a single pandas DataFrame. The concatenation is performed based on the
available channels specified in the configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>h5_file</strong> (<em>h5py.File</em>) – The h5py.File object representing the HDF5 file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A concatenated pandas DataFrame containing the channels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the group_name for any channel does not exist in the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.create_dataframe_per_file">
<span class="sig-name descname"><span class="pre">create_dataframe_per_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.create_dataframe_per_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.create_dataframe_per_file" title="Permalink to this definition">#</a></dt>
<dd><p>Create pandas DataFrames for the given file.</p>
<p>This method loads an HDF5 file specified by <cite>file_path</cite> and constructs a pandas DataFrame
from the datasets within the file. The order of datasets in the DataFrames is the opposite
of the order specified by channel names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>Path</em>) – Path to the input HDF5 file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas DataFrame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.create_buffer_file">
<span class="sig-name descname"><span class="pre">create_buffer_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parquet_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.create_buffer_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.create_buffer_file" title="Permalink to this definition">#</a></dt>
<dd><p>Converts an HDF5 file to Parquet format to create a buffer file.</p>
<p>This method uses <cite>create_dataframe_per_file</cite> method to create dataframes from individual
files within an HDF5 file. The resulting dataframe is then saved to a Parquet file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_path</strong> (<em>Path</em>) – Path to the input HDF5 file.</p></li>
<li><p><strong>parquet_path</strong> (<em>Path</em>) – Path to the output Parquet file.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If an error occurs during the conversion process.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.buffer_file_handler">
<span class="sig-name descname"><span class="pre">buffer_file_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_parquet_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_recreate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.buffer_file_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.buffer_file_handler" title="Permalink to this definition">#</a></dt>
<dd><p>Handles the conversion of buffer files (h5 to parquet) and returns the filenames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_parquet_dir</strong> (<em>Path</em>) – Directory where the parquet files will be stored.</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – Detector name.</p></li>
<li><p><strong>force_recreate</strong> (<em>bool</em>) – Forces recreation of buffer files</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Three lists, one for
parquet file paths, one for metadata and one for schema.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List[Path], List, List]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the conversion fails for any files or no data is available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.parquet_handler">
<span class="sig-name descname"><span class="pre">parquet_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_parquet_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parquet_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">converted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_parquet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_parquet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_recreate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.parquet_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.parquet_handler" title="Permalink to this definition">#</a></dt>
<dd><p>Handles loading and saving of parquet files based on the provided parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_parquet_dir</strong> (<em>Path</em>) – Directory where the parquet files are located.</p></li>
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – Adds a identifier for parquets to distinguish multidetector
systems.</p></li>
<li><p><strong>parquet_path</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to the combined parquet file.</p></li>
<li><p><strong>converted</strong> (<em>bool</em><em>, </em><em>optional</em>) – True if data is augmented by adding additional columns
externally and saved into converted folder.</p></li>
<li><p><strong>load_parquet</strong> (<em>bool</em><em>, </em><em>optional</em>) – Loads the entire parquet into the dd dataframe.</p></li>
<li><p><strong>save_parquet</strong> (<em>bool</em><em>, </em><em>optional</em>) – Saves the entire dataframe into a parquet.</p></li>
<li><p><strong>force_recreate</strong> (<em>bool</em><em>, </em><em>optional</em>) – Forces recreation of buffer file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing two dataframes:
- dataframe_electron: Dataframe containing the loaded/augmented electron data.
- dataframe_pulse: Dataframe containing the loaded/augmented timed data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the requested parquet file is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.parse_metadata">
<span class="sig-name descname"><span class="pre">parse_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scicat_token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.parse_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.parse_metadata" title="Permalink to this definition">#</a></dt>
<dd><p>Uses the MetadataRetriever class to fetch metadata from scicat for each run.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Metadata dictionary
scicat_token (str, optional):: The scicat token to use for fetching metadata</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scicat_token</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.get_count_rate">
<span class="sig-name descname"><span class="pre">get_count_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.get_count_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.get_count_rate" title="Permalink to this definition">#</a></dt>
<dd><p>Create count rate data for the files specified in <code class="docutils literal notranslate"><span class="pre">fids</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fids</strong> (<em>Sequence</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – fids (Sequence[int]): the file ids to
include. Defaults to list of all file ids.</p></li>
<li><p><strong>kwds</strong> – Keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Arrays containing countrate and seconds
into the scan.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[np.ndarray, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.get_elapsed_time">
<span class="sig-name descname"><span class="pre">get_elapsed_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.get_elapsed_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.get_elapsed_time" title="Permalink to this definition">#</a></dt>
<dd><p>Return the elapsed time in the specified in <code class="docutils literal notranslate"><span class="pre">fids</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fids</strong> (<em>Sequence</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – fids (Sequence[int]): the file ids to
include. Defaults to list of all file ids.</p></li>
<li><p><strong>kwds</strong> – Keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The elapsed time in the files in seconds.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.read_dataframe">
<span class="sig-name descname"><span class="pre">read_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'h5'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collect_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/loader.html#FlashLoader.read_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.read_dataframe" title="Permalink to this definition">#</a></dt>
<dd><p>Read express data from the DAQ, generating a parquet in between.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – File path(s) to process. Defaults to None.</p></li>
<li><p><strong>folders</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Path to folder(s) where files are stored
Path has priority such that if it’s specified, the specified files will be ignored.
Defaults to None.</p></li>
<li><p><strong>runs</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Run identifier(s). Corresponding files will
be located in the location provided by <code class="docutils literal notranslate"><span class="pre">folders</span></code>. Takes precedence over
<code class="docutils literal notranslate"><span class="pre">files</span></code> and <code class="docutils literal notranslate"><span class="pre">folders</span></code>. Defaults to None.</p></li>
<li><p><strong>ftype</strong> (<em>str</em><em>, </em><em>optional</em>) – The file extension type. Defaults to “h5”.</p></li>
<li><p><strong>metadata</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional metadata. Defaults to None.</p></li>
<li><p><strong>collect_metadata</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to collect metadata. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the concatenated DataFrame and metadata.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[dd.DataFrame, dict]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If neither ‘runs’ nor ‘files’/’data_raw_dir’ is provided.</p></li>
<li><p><strong>FileNotFoundError</strong> – If the conversion fails for some files or no data is available.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.files">
<span class="sig-name descname"><span class="pre">files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List[str]</span></em><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.files" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.runs">
<span class="sig-name descname"><span class="pre">runs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List[str]</span></em><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.runs" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.flash.loader.FlashLoader.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict[Any,</span> <span class="pre">Any]</span></em><a class="headerlink" href="#sed.loader.flash.loader.FlashLoader.metadata" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.flash.loader.LOADER">
<span class="sig-prename descclassname"><span class="pre">sed.loader.flash.loader.</span></span><span class="sig-name descname"><span class="pre">LOADER</span></span><a class="headerlink" href="#sed.loader.flash.loader.LOADER" title="Permalink to this definition">#</a></dt>
<dd><p>alias of <a class="reference internal" href="#sed.loader.flash.loader.FlashLoader" title="sed.loader.flash.loader.FlashLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlashLoader</span></code></a></p>
</dd></dl>

<span class="target" id="module-sed.loader.flash.metadata"></span><p>The module provides a MetadataRetriever class for retrieving metadata
from a Scicat Instance based on beamtime and run IDs.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sed.loader.flash.metadata.MetadataRetriever">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sed.loader.flash.metadata.</span></span><span class="sig-name descname"><span class="pre">MetadataRetriever</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scicat_token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/metadata.html#MetadataRetriever"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.metadata.MetadataRetriever" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class for retrieving metadata from a Scicat instance based
on beamtime and run IDs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadata_config</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Dict</span></code></span>) – </p></li>
<li><p><strong>scicat_token</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.flash.metadata.MetadataRetriever.get_metadata">
<span class="sig-name descname"><span class="pre">get_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beamtime_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/flash/metadata.html#MetadataRetriever.get_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.flash.metadata.MetadataRetriever.get_metadata" title="Permalink to this definition">#</a></dt>
<dd><p>Retrieves metadata for a given beamtime ID and list of runs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>beamtime_id</strong> (<em>str</em>) – The ID of the beamtime.</p></li>
<li><p><strong>runs</strong> (<em>list</em>) – A list of run IDs.</p></li>
<li><p><strong>metadata</strong> (<em>Dict</em><em>, </em><em>optional</em>) – The existing metadata dictionary.</p></li>
<li><p><strong>None.</strong> (<em>Defaults to</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated metadata dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – If the request to retrieve metadata fails.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-sed.loader.sxp.loader">
<span id="sxploader"></span><h2>SXPLoader<a class="headerlink" href="#module-sed.loader.sxp.loader" title="Permalink to this heading">#</a></h2>
<p>This module implements the SXP data loader.
This loader currently supports the SXP momentum microscope instrument.
The raw hdf5 data is combined and saved into buffer files and loaded as a dask dataframe.
The dataframe is a amalgamation of all h5 files for a combination of runs, where the NaNs are
automatically forward filled across different files.
This can then be saved as a parquet for out-of-sed processing and reread back to access other
sed functionality.
Most of the structure is identical to the FLASH loader.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sed.loader.sxp.loader.</span></span><span class="sig-name descname"><span class="pre">SXPLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sed.loader.base.loader.BaseLoader" title="sed.loader.base.loader.BaseLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseLoader</span></code></a></p>
<p>The class generates multiindexed multidimensional pandas dataframes from the new SXP
dataformat resolved by both macro and microbunches alongside electrons.
Only the read_dataframe (inherited and implemented) method is accessed by other modules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span>) – </p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.supported_file_types">
<span class="sig-name descname"><span class="pre">supported_file_types</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.List</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['h5']</span></em><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.supported_file_types" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.initialize_paths">
<span class="sig-name descname"><span class="pre">initialize_paths</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.initialize_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.initialize_paths" title="Permalink to this definition">#</a></dt>
<dd><p>Initializes the paths based on the configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple containing a list of raw data directories
paths and the parquet data directory path.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[List[Path], Path]</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – If required values are missing from the configuration.</p></li>
<li><p><strong>FileNotFoundError</strong> – If the raw data directories are not found.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.get_files_from_run_id">
<span class="sig-name descname"><span class="pre">get_files_from_run_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'h5'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.get_files_from_run_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.get_files_from_run_id" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a list of filenames for a given run located in the specified directory
for the specified data acquisition (daq).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>run_id</strong> (<em>str</em>) – The run identifier to locate.</p></li>
<li><p><strong>folders</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – The directory(ies) where the raw
data is located. Defaults to config[“core”][“base_folder”].</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The file extension. Defaults to “h5”.</p></li>
<li><p><strong>kwds</strong> – Keyword arguments:
- daq (str): The data acquisition identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of path strings representing the collected file names.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If no files are found for the given run in the directory.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.available_channels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">available_channels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span></em><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.available_channels" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the channel names that are available for use,
excluding pulseId, defined by the json file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.get_channels">
<span class="sig-name descname"><span class="pre">get_channels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.get_channels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.get_channels" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a list of channels associated with the specified format(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>formats</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) – The desired format(s)
(‘per_pulse’, ‘per_electron’, ‘per_train’, ‘all’).</p></li>
<li><p><strong>index</strong> (<em>bool</em>) – If True, includes channels from the multi_index.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of channels with the specified format(s).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.reset_multi_index">
<span class="sig-name descname"><span class="pre">reset_multi_index</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.reset_multi_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.reset_multi_index" title="Permalink to this definition">#</a></dt>
<dd><p>Resets the index per pulse and electron</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.create_multi_index_per_electron">
<span class="sig-name descname"><span class="pre">create_multi_index_per_electron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.create_multi_index_per_electron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.create_multi_index_per_electron" title="Permalink to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Creates an index per electron using pulseId for usage with the electron</dt><dd><p>resolved pandas DataFrame.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>h5_file</strong> (<em>h5py.File</em>) – The HDF5 file object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>This method relies on the ‘pulseId’ channel to determine</dt><dd><p>the macrobunch IDs.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>It creates a MultiIndex with trainId, pulseId, and electronId</dt><dd><p>as the index levels.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.create_multi_index_per_pulse">
<span class="sig-name descname"><span class="pre">create_multi_index_per_pulse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">np_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.create_multi_index_per_pulse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.create_multi_index_per_pulse" title="Permalink to this definition">#</a></dt>
<dd><p>Creates an index per pulse using a pulse resolved channel’s macrobunch ID, for usage with
the pulse resolved pandas DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_id</strong> (<em>Series</em>) – The train ID Series.</p></li>
<li><p><strong>np_array</strong> (<em>np.ndarray</em>) – The numpy array containing the pulse resolved data.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This method creates a MultiIndex with trainId and pulseId as the index levels.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.create_numpy_array_per_channel">
<span class="sig-name descname"><span class="pre">create_numpy_array_per_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.create_numpy_array_per_channel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.create_numpy_array_per_channel" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a numpy array for a given channel name for a given file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_file</strong> (<em>h5py.File</em>) – The h5py file object.</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The name of the channel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the train ID Series and the numpy array
for the channel’s data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[Series, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.create_dataframe_per_electron">
<span class="sig-name descname"><span class="pre">create_dataframe_per_electron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">np_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.create_dataframe_per_electron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.create_dataframe_per_electron" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a pandas DataFrame for a given channel name of type [per electron].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>np_array</strong> (<em>np.ndarray</em>) – The numpy array containing the channel data.</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The name of the channel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pandas DataFrame for the channel’s data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The microbunch resolved data is exploded and converted to a DataFrame. The MultiIndex
is set, and the NaN values are dropped, alongside the pulseId = 0 (meaningless).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.create_dataframe_per_pulse">
<span class="sig-name descname"><span class="pre">create_dataframe_per_pulse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">np_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.create_dataframe_per_pulse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.create_dataframe_per_pulse" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a pandas DataFrame for a given channel name of type [per pulse].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>np_array</strong> (<em>np.ndarray</em>) – The numpy array containing the channel data.</p></li>
<li><p><strong>train_id</strong> (<em>Series</em>) – The train ID Series.</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The name of the channel.</p></li>
<li><p><strong>channel_dict</strong> (<em>dict</em>) – The dictionary containing channel parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pandas DataFrame for the channel’s data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>For auxiliary channels, the macrobunch resolved data is repeated 499 times to be
compared to electron resolved data for each auxiliary channel. The data is then
converted to a multicolumn DataFrame.</p></li>
<li><p>For all other pulse resolved channels, the macrobunch resolved data is exploded
to a DataFrame and the MultiIndex is set.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.create_dataframe_per_train">
<span class="sig-name descname"><span class="pre">create_dataframe_per_train</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">np_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.create_dataframe_per_train"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.create_dataframe_per_train" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a pandas DataFrame for a given channel name of type [per train].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>np_array</strong> (<em>np.ndarray</em>) – The numpy array containing the channel data.</p></li>
<li><p><strong>train_id</strong> (<em>Series</em>) – The train ID Series.</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The name of the channel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pandas DataFrame for the channel’s data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.create_dataframe_per_channel">
<span class="sig-name descname"><span class="pre">create_dataframe_per_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.create_dataframe_per_channel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.create_dataframe_per_channel" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a pandas DataFrame for a given channel name from a given file.</p>
<p>This method takes an h5py.File object <cite>h5_file</cite> and a channel name <cite>channel</cite>, and returns
a pandas DataFrame containing the data for that channel from the file. The format of the
DataFrame depends on the channel’s format specified in the configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>Path</em>) – The path to the main HDF5 file.</p></li>
<li><p><strong>channel</strong> (<em>str</em>) – The name of the channel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pandas Series or DataFrame representing the channel’s data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[Series, DataFrame]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the channel has an undefined format.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.concatenate_channels">
<span class="sig-name descname"><span class="pre">concatenate_channels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.concatenate_channels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.concatenate_channels" title="Permalink to this definition">#</a></dt>
<dd><p>Concatenates the channels from the provided h5py.File into a pandas DataFrame.</p>
<p>This method takes an h5py.File object <cite>h5_file</cite> and concatenates the channels present in
the file into a single pandas DataFrame. The concatenation is performed based on the
available channels specified in the configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>Path</em>) – The path to the main HDF5 file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A concatenated pandas DataFrame containing the channels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the group_name for any channel does not exist in the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.create_dataframe_per_file">
<span class="sig-name descname"><span class="pre">create_dataframe_per_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.create_dataframe_per_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.create_dataframe_per_file" title="Permalink to this definition">#</a></dt>
<dd><p>Create pandas DataFrames for the given file.</p>
<p>This method loads an HDF5 file specified by <cite>file_path</cite> and constructs a pandas DataFrame
from the datasets within the file. The order of datasets in the DataFrames is the opposite
of the order specified by channel names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>Path</em>) – Path to the input HDF5 file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas DataFrame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.create_buffer_file">
<span class="sig-name descname"><span class="pre">create_buffer_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parquet_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.create_buffer_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.create_buffer_file" title="Permalink to this definition">#</a></dt>
<dd><p>Converts an HDF5 file to Parquet format to create a buffer file.</p>
<p>This method uses <cite>create_dataframe_per_file</cite> method to create dataframes from individual
files within an HDF5 file. The resulting dataframe is then saved to a Parquet file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_path</strong> (<em>Path</em>) – Path to the input HDF5 file.</p></li>
<li><p><strong>parquet_path</strong> (<em>Path</em>) – Path to the output Parquet file.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If an error occurs during the conversion process.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">typing.Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.buffer_file_handler">
<span class="sig-name descname"><span class="pre">buffer_file_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_parquet_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_recreate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.buffer_file_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.buffer_file_handler" title="Permalink to this definition">#</a></dt>
<dd><p>Handles the conversion of buffer files (h5 to parquet) and returns the filenames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_parquet_dir</strong> (<em>Path</em>) – Directory where the parquet files will be stored.</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – Detector name.</p></li>
<li><p><strong>force_recreate</strong> (<em>bool</em>) – Forces recreation of buffer files</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Three lists, one for
parquet file paths, one for metadata and one for schema.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List[Path], List, List]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the conversion fails for any files or no data is available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.parquet_handler">
<span class="sig-name descname"><span class="pre">parquet_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_parquet_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parquet_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">converted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_parquet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_parquet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_recreate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.parquet_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.parquet_handler" title="Permalink to this definition">#</a></dt>
<dd><p>Handles loading and saving of parquet files based on the provided parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_parquet_dir</strong> (<em>Path</em>) – Directory where the parquet files are located.</p></li>
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – Adds a identifier for parquets to distinguish multidetector
systems.</p></li>
<li><p><strong>parquet_path</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to the combined parquet file.</p></li>
<li><p><strong>converted</strong> (<em>bool</em><em>, </em><em>optional</em>) – True if data is augmented by adding additional columns
externally and saved into converted folder.</p></li>
<li><p><strong>load_parquet</strong> (<em>bool</em><em>, </em><em>optional</em>) – Loads the entire parquet into the dd dataframe.</p></li>
<li><p><strong>save_parquet</strong> (<em>bool</em><em>, </em><em>optional</em>) – Saves the entire dataframe into a parquet.</p></li>
<li><p><strong>force_recreate</strong> (<em>bool</em><em>, </em><em>optional</em>) – Forces recreation of buffer file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing two dataframes:
- dataframe_electron: Dataframe containing the loaded/augmented electron data.
- dataframe_pulse: Dataframe containing the loaded/augmented timed data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the requested parquet file is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.gather_metadata">
<span class="sig-name descname"><span class="pre">gather_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.gather_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.gather_metadata" title="Permalink to this definition">#</a></dt>
<dd><p>Dummy function returning empty metadata dictionary for now.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>metadata</strong> (<em>dict</em><em>, </em><em>optional</em>) – Manual meta data dictionary. Auto-generated
meta data are added to it. Defaults to None.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Metadata dictionary</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.get_count_rate">
<span class="sig-name descname"><span class="pre">get_count_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.get_count_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.get_count_rate" title="Permalink to this definition">#</a></dt>
<dd><p>Create count rate data for the files specified in <code class="docutils literal notranslate"><span class="pre">fids</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fids</strong> (<em>Sequence</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – fids (Sequence[int]): the file ids to
include. Defaults to list of all file ids.</p></li>
<li><p><strong>kwds</strong> – Keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Arrays containing countrate and seconds
into the scan.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[np.ndarray, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.get_elapsed_time">
<span class="sig-name descname"><span class="pre">get_elapsed_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.get_elapsed_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.get_elapsed_time" title="Permalink to this definition">#</a></dt>
<dd><p>Return the elapsed time in the specified in <code class="docutils literal notranslate"><span class="pre">fids</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fids</strong> (<em>Sequence</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – fids (Sequence[int]): the file ids to
include. Defaults to list of all file ids.</p></li>
<li><p><strong>kwds</strong> – Keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The elapsed time in the files in seconds.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.read_dataframe">
<span class="sig-name descname"><span class="pre">read_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'h5'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collect_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/sxp/loader.html#SXPLoader.read_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.read_dataframe" title="Permalink to this definition">#</a></dt>
<dd><p>Read express data from the DAQ, generating a parquet in between.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – File path(s) to process. Defaults to None.</p></li>
<li><p><strong>folders</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Path to folder(s) where files are stored
Path has priority such that if it’s specified, the specified files will be ignored.
Defaults to None.</p></li>
<li><p><strong>runs</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Run identifier(s). Corresponding files will
be located in the location provided by <code class="docutils literal notranslate"><span class="pre">folders</span></code>. Takes precedence over
<code class="docutils literal notranslate"><span class="pre">files</span></code> and <code class="docutils literal notranslate"><span class="pre">folders</span></code>. Defaults to None.</p></li>
<li><p><strong>ftype</strong> (<em>str</em><em>, </em><em>optional</em>) – The file extension type. Defaults to “h5”.</p></li>
<li><p><strong>metadata</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional metadata. Defaults to None.</p></li>
<li><p><strong>collect_metadata</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to collect metadata. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the concatenated DataFrame and metadata.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[dd.DataFrame, dict]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If neither ‘runs’ nor ‘files’/’data_raw_dir’ is provided.</p></li>
<li><p><strong>FileNotFoundError</strong> – If the conversion fails for some files or no data is available.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.files">
<span class="sig-name descname"><span class="pre">files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List[str]</span></em><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.files" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.runs">
<span class="sig-name descname"><span class="pre">runs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List[str]</span></em><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.runs" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.SXPLoader.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict[Any,</span> <span class="pre">Any]</span></em><a class="headerlink" href="#sed.loader.sxp.loader.SXPLoader.metadata" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sed.loader.sxp.loader.LOADER">
<span class="sig-prename descclassname"><span class="pre">sed.loader.sxp.loader.</span></span><span class="sig-name descname"><span class="pre">LOADER</span></span><a class="headerlink" href="#sed.loader.sxp.loader.LOADER" title="Permalink to this definition">#</a></dt>
<dd><p>alias of <a class="reference internal" href="#sed.loader.sxp.loader.SXPLoader" title="sed.loader.sxp.loader.SXPLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">SXPLoader</span></code></a></p>
</dd></dl>

</section>
<section id="module-sed.loader.utils">
<span id="utilities"></span><h2>Utilities<a class="headerlink" href="#module-sed.loader.utils" title="Permalink to this heading">#</a></h2>
<p>Utilities for loaders</p>
<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.utils.gather_files">
<span class="sig-prename descclassname"><span class="pre">sed.loader.utils.</span></span><span class="sig-name descname"><span class="pre">gather_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_sorting</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/utils.html#gather_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.utils.gather_files" title="Permalink to this definition">#</a></dt>
<dd><p>Collects and sorts files with specified extension from a given folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>folder</strong> (<em>str</em>) – The folder to search</p></li>
<li><p><strong>extension</strong> (<em>str</em>) – File extension used for glob.glob().</p></li>
<li><p><strong>f_start</strong> (<em>int</em><em>, </em><em>optional</em>) – Start file id used to construct a file selector.
Defaults to None.</p></li>
<li><p><strong>f_end</strong> (<em>int</em><em>, </em><em>optional</em>) – End file id used to construct a file selector.
Defaults to None.</p></li>
<li><p><strong>f_step</strong> (<em>int</em><em>, </em><em>optional</em>) – Step of file id incrementation, used to construct
a file selector. Defaults to 1.</p></li>
<li><p><strong>file_sorting</strong> (<em>bool</em><em>, </em><em>optional</em>) – Option to sort the files by their names.
Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of collected file names.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.utils.parse_h5_keys">
<span class="sig-prename descclassname"><span class="pre">sed.loader.utils.</span></span><span class="sig-name descname"><span class="pre">parse_h5_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/utils.html#parse_h5_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.utils.parse_h5_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Helper method which parses the channels present in the h5 file
:type h5_file: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">h5py._hl.files.File</span></code></span>
:param h5_file: The H5 file object.
:type h5_file: h5py.File
:type prefix: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>, default: <code class="docutils literal notranslate"><span class="pre">''</span></code>
:param prefix: The prefix for the channel names.
:type prefix: str, optional
:param Defaults to an empty string.:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of channel names in the H5 file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[str]</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Exception</strong> – If an error occurs while parsing the keys.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.utils.split_channel_bitwise">
<span class="sig-prename descclassname"><span class="pre">sed.loader.utils.</span></span><span class="sig-name descname"><span class="pre">split_channel_bitwise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bit_mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/utils.html#split_channel_bitwise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.utils.split_channel_bitwise" title="Permalink to this definition">#</a></dt>
<dd><p>Splits a channel into two channels bitwise.</p>
<p>This function splits a channel into two channels by separating the first n bits from
the remaining bits. The first n bits are stored in the first output column, the
remaining bits are stored in the second output column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>dask.dataframe.DataFrame</em>) – Dataframe to use.</p></li>
<li><p><strong>input_column</strong> (<em>str</em>) – Name of the column to split.</p></li>
<li><p><strong>output_columns</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>) – Names of the columns to create.</p></li>
<li><p><strong>bit_mask</strong> (<em>int</em>) – Bit mask to use for splitting.</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to overwrite existing columns.
Defaults to False.</p></li>
<li><p><strong>types</strong> (<em>Sequence</em><em>[</em><em>type</em><em>]</em><em>, </em><em>optional</em>) – Types of the new columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataframe with the new columns.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dask.dataframe.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.utils.split_dld_time_from_sector_id">
<span class="sig-prename descclassname"><span class="pre">sed.loader.utils.</span></span><span class="sig-name descname"><span class="pre">split_dld_time_from_sector_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tof_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sector_id_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sector_id_reserved_bits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/utils.html#split_dld_time_from_sector_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.utils.split_dld_time_from_sector_id" title="Permalink to this definition">#</a></dt>
<dd><p>Converts the 8s time in steps to time in steps and sectorID.</p>
<p>The 8s detector encodes the dldSectorID in the 3 least significant bits of the
dldTimeSteps channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>Union</em><em>[</em><em>pd.DataFrame</em><em>, </em><em>dask.dataframe.DataFrame</em><em>]</em>) – Dataframe to use.</p></li>
<li><p><strong>tof_column</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the column containing the
time-of-flight steps. Defaults to config[“dataframe”][“tof_column”].</p></li>
<li><p><strong>sector_id_column</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the column containing the
sectorID. Defaults to config[“dataframe”][“sector_id_column”].</p></li>
<li><p><strong>sector_id_reserved_bits</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of bits reserved for the</p></li>
<li><p><strong>config</strong> (<em>dict</em><em>, </em><em>optional</em>) – Configuration dictionary. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataframe with the new columns.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[pd.DataFrame, dask.dataframe.DataFrame]</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-sed.loader.mirrorutil"></span><p>module sed.loader.mirrorutil, code for transparently mirroring file system trees to a
second (local) location. This is speeds up binning of data stored on network drives
tremendously.
Mostly ported from <a class="github reference external" href="https://github.com/mpes-kit/mpes">mpes-kit/mpes</a>.
&#64;author: L. Rettig</p>
<dl class="py class">
<dt class="sig sig-object py" id="sed.loader.mirrorutil.CopyTool">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sed.loader.mirrorutil.</span></span><span class="sig-name descname"><span class="pre">CopyTool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mirrorutil.html#CopyTool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mirrorutil.CopyTool" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>File collecting and sorting class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>str</em>) – Source path for the copy tool.</p></li>
<li><p><strong>dest</strong> (<em>str</em>) – Destination path for the copy tool.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.mirrorutil.CopyTool.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">compute_kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mirrorutil.html#CopyTool.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mirrorutil.CopyTool.copy" title="Permalink to this definition">#</a></dt>
<dd><p>Local file copying method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>str</em>) – source path</p></li>
<li><p><strong>force_copy</strong> (<em>bool</em><em>, </em><em>optional</em>) – re-copy all files. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>FileNotFoundError</strong> – Raised if the source path is not found or empty.</p></li>
<li><p><strong>OSError</strong> – Raised if the target disk is full.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Path of the copied source directory mapped into the target tree</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.mirrorutil.CopyTool.size">
<span class="sig-name descname"><span class="pre">size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sdir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mirrorutil.html#CopyTool.size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mirrorutil.CopyTool.size" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate file size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sdir</strong> (<em>str</em>) – Path to source directory</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Size of files in source path</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sed.loader.mirrorutil.CopyTool.cleanup_oldest_scan">
<span class="sig-name descname"><span class="pre">cleanup_oldest_scan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mirrorutil.html#CopyTool.cleanup_oldest_scan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mirrorutil.CopyTool.cleanup_oldest_scan" title="Permalink to this definition">#</a></dt>
<dd><p>Remove scans in old directories. Looks for the directory with the oldest
ctime and queries the user to confirm for its deletion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>force</strong> (<em>bool</em><em>, </em><em>optional</em>) – Forces to automatically remove the oldest scan.
Defaults to False.</p></li>
<li><p><strong>report</strong> (<em>bool</em><em>, </em><em>optional</em>) – Print a report with all directories in dest,
sorted by age. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – Raised if no scans to remove are found.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.mirrorutil.get_target_dir">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mirrorutil.</span></span><span class="sig-name descname"><span class="pre">get_target_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mirrorutil.html#get_target_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mirrorutil.get_target_dir" title="Permalink to this definition">#</a></dt>
<dd><p>Retrieve target directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sdir</strong> (<em>str</em>) – Source directory to copy</p></li>
<li><p><strong>source</strong> (<em>str</em>) – source root path</p></li>
<li><p><strong>dest</strong> (<em>str</em>) – destination root path</p></li>
<li><p><strong>gid</strong> (<em>int</em>) – Group id</p></li>
<li><p><strong>mode</strong> (<em>int</em>) – Unix mode</p></li>
<li><p><strong>create</strong> (<em>bool</em><em>, </em><em>optional</em>) – Wether to create directories. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>NotADirectoryError</strong> – Raised if sdir is not a directory</p></li>
<li><p><strong>ValueError</strong> – Raised if sdir not inside of source</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The mapped target directory inside dest</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.mirrorutil.mymakedirs">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mirrorutil.</span></span><span class="sig-name descname"><span class="pre">mymakedirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mirrorutil.html#mymakedirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mirrorutil.mymakedirs" title="Permalink to this definition">#</a></dt>
<dd><p>Creates a directory path iteratively from its root</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path of the directory to create</p></li>
<li><p><strong>mode</strong> (<em>int</em>) – Unix access mode of created directories</p></li>
<li><p><strong>gid</strong> (<em>int</em>) – Group id of created directories</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Path of created directories</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sed.loader.mirrorutil.mycopy">
<span class="sig-prename descclassname"><span class="pre">sed.loader.mirrorutil.</span></span><span class="sig-name descname"><span class="pre">mycopy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sed/loader/mirrorutil.html#mycopy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sed.loader.mirrorutil.mycopy" title="Permalink to this definition">#</a></dt>
<dd><p>Copy function with option to delete the target file firs (to take ownership).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>str</em>) – Path to the source file</p></li>
<li><p><strong>dest</strong> (<em>str</em>) – Path to the destination file</p></li>
<li><p><strong>gid</strong> (<em>int</em>) – Group id to be set for the destination file</p></li>
<li><p><strong>mode</strong> (<em>int</em>) – Unix access mode to be set for the destination file</p></li>
<li><p><strong>replace</strong> (<em>bool</em><em>, </em><em>optional</em>) – Option to replace an existing file.
Defaults to False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="dfops.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Dataframe Operations</p>
      </div>
    </a>
    <a class="right-next"
       href="binning.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Binning</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-sed.loader.loader_interface">Loader Interface</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.loader_interface.get_loader"><code class="docutils literal notranslate"><span class="pre">get_loader()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.loader_interface.get_names_of_all_loaders"><code class="docutils literal notranslate"><span class="pre">get_names_of_all_loaders()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-sed.loader.base.loader">Abstract BaseLoader</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.base.loader.BaseLoader"><code class="docutils literal notranslate"><span class="pre">BaseLoader</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.base.loader.BaseLoader.supported_file_types"><code class="docutils literal notranslate"><span class="pre">BaseLoader.supported_file_types</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.base.loader.BaseLoader.read_dataframe"><code class="docutils literal notranslate"><span class="pre">BaseLoader.read_dataframe()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.base.loader.BaseLoader.get_files_from_run_id"><code class="docutils literal notranslate"><span class="pre">BaseLoader.get_files_from_run_id()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.base.loader.BaseLoader.get_count_rate"><code class="docutils literal notranslate"><span class="pre">BaseLoader.get_count_rate()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.base.loader.BaseLoader.get_elapsed_time"><code class="docutils literal notranslate"><span class="pre">BaseLoader.get_elapsed_time()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.base.loader.LOADER"><code class="docutils literal notranslate"><span class="pre">LOADER</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-sed.loader.generic.loader">GenericLoader</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.generic.loader.GenericLoader"><code class="docutils literal notranslate"><span class="pre">GenericLoader</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.generic.loader.GenericLoader.supported_file_types"><code class="docutils literal notranslate"><span class="pre">GenericLoader.supported_file_types</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.generic.loader.GenericLoader.read_dataframe"><code class="docutils literal notranslate"><span class="pre">GenericLoader.read_dataframe()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.generic.loader.GenericLoader.get_files_from_run_id"><code class="docutils literal notranslate"><span class="pre">GenericLoader.get_files_from_run_id()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.generic.loader.GenericLoader.get_count_rate"><code class="docutils literal notranslate"><span class="pre">GenericLoader.get_count_rate()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.generic.loader.GenericLoader.get_elapsed_time"><code class="docutils literal notranslate"><span class="pre">GenericLoader.get_elapsed_time()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.generic.loader.GenericLoader.files"><code class="docutils literal notranslate"><span class="pre">GenericLoader.files</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.generic.loader.GenericLoader.runs"><code class="docutils literal notranslate"><span class="pre">GenericLoader.runs</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.generic.loader.GenericLoader.metadata"><code class="docutils literal notranslate"><span class="pre">GenericLoader.metadata</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.generic.loader.LOADER"><code class="docutils literal notranslate"><span class="pre">LOADER</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-sed.loader.mpes.loader">MpesLoader</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.load_h5_in_memory"><code class="docutils literal notranslate"><span class="pre">load_h5_in_memory()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.hdf5_to_dataframe"><code class="docutils literal notranslate"><span class="pre">hdf5_to_dataframe()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.hdf5_to_timed_dataframe"><code class="docutils literal notranslate"><span class="pre">hdf5_to_timed_dataframe()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.get_groups_and_aliases"><code class="docutils literal notranslate"><span class="pre">get_groups_and_aliases()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.hdf5_to_array"><code class="docutils literal notranslate"><span class="pre">hdf5_to_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.hdf5_to_timed_array"><code class="docutils literal notranslate"><span class="pre">hdf5_to_timed_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.get_attribute"><code class="docutils literal notranslate"><span class="pre">get_attribute()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.get_count_rate"><code class="docutils literal notranslate"><span class="pre">get_count_rate()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.get_elapsed_time"><code class="docutils literal notranslate"><span class="pre">get_elapsed_time()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.get_archiver_data"><code class="docutils literal notranslate"><span class="pre">get_archiver_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.MpesLoader"><code class="docutils literal notranslate"><span class="pre">MpesLoader</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.MpesLoader.supported_file_types"><code class="docutils literal notranslate"><span class="pre">MpesLoader.supported_file_types</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.MpesLoader.read_dataframe"><code class="docutils literal notranslate"><span class="pre">MpesLoader.read_dataframe()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.MpesLoader.get_files_from_run_id"><code class="docutils literal notranslate"><span class="pre">MpesLoader.get_files_from_run_id()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.MpesLoader.get_start_and_end_time"><code class="docutils literal notranslate"><span class="pre">MpesLoader.get_start_and_end_time()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.MpesLoader.gather_metadata"><code class="docutils literal notranslate"><span class="pre">MpesLoader.gather_metadata()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.MpesLoader.get_count_rate"><code class="docutils literal notranslate"><span class="pre">MpesLoader.get_count_rate()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.MpesLoader.get_elapsed_time"><code class="docutils literal notranslate"><span class="pre">MpesLoader.get_elapsed_time()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.MpesLoader.files"><code class="docutils literal notranslate"><span class="pre">MpesLoader.files</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.MpesLoader.runs"><code class="docutils literal notranslate"><span class="pre">MpesLoader.runs</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.MpesLoader.metadata"><code class="docutils literal notranslate"><span class="pre">MpesLoader.metadata</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mpes.loader.LOADER"><code class="docutils literal notranslate"><span class="pre">LOADER</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-sed.loader.flash.loader">FlashLoader</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader"><code class="docutils literal notranslate"><span class="pre">FlashLoader</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.supported_file_types"><code class="docutils literal notranslate"><span class="pre">FlashLoader.supported_file_types</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.initialize_paths"><code class="docutils literal notranslate"><span class="pre">FlashLoader.initialize_paths()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.get_files_from_run_id"><code class="docutils literal notranslate"><span class="pre">FlashLoader.get_files_from_run_id()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.available_channels"><code class="docutils literal notranslate"><span class="pre">FlashLoader.available_channels</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.get_channels"><code class="docutils literal notranslate"><span class="pre">FlashLoader.get_channels()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.reset_multi_index"><code class="docutils literal notranslate"><span class="pre">FlashLoader.reset_multi_index()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.create_multi_index_per_electron"><code class="docutils literal notranslate"><span class="pre">FlashLoader.create_multi_index_per_electron()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.create_multi_index_per_pulse"><code class="docutils literal notranslate"><span class="pre">FlashLoader.create_multi_index_per_pulse()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.create_numpy_array_per_channel"><code class="docutils literal notranslate"><span class="pre">FlashLoader.create_numpy_array_per_channel()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.create_dataframe_per_electron"><code class="docutils literal notranslate"><span class="pre">FlashLoader.create_dataframe_per_electron()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.create_dataframe_per_pulse"><code class="docutils literal notranslate"><span class="pre">FlashLoader.create_dataframe_per_pulse()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.create_dataframe_per_train"><code class="docutils literal notranslate"><span class="pre">FlashLoader.create_dataframe_per_train()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.create_dataframe_per_channel"><code class="docutils literal notranslate"><span class="pre">FlashLoader.create_dataframe_per_channel()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.concatenate_channels"><code class="docutils literal notranslate"><span class="pre">FlashLoader.concatenate_channels()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.create_dataframe_per_file"><code class="docutils literal notranslate"><span class="pre">FlashLoader.create_dataframe_per_file()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.create_buffer_file"><code class="docutils literal notranslate"><span class="pre">FlashLoader.create_buffer_file()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.buffer_file_handler"><code class="docutils literal notranslate"><span class="pre">FlashLoader.buffer_file_handler()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.parquet_handler"><code class="docutils literal notranslate"><span class="pre">FlashLoader.parquet_handler()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.parse_metadata"><code class="docutils literal notranslate"><span class="pre">FlashLoader.parse_metadata()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.get_count_rate"><code class="docutils literal notranslate"><span class="pre">FlashLoader.get_count_rate()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.get_elapsed_time"><code class="docutils literal notranslate"><span class="pre">FlashLoader.get_elapsed_time()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.read_dataframe"><code class="docutils literal notranslate"><span class="pre">FlashLoader.read_dataframe()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.files"><code class="docutils literal notranslate"><span class="pre">FlashLoader.files</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.runs"><code class="docutils literal notranslate"><span class="pre">FlashLoader.runs</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.FlashLoader.metadata"><code class="docutils literal notranslate"><span class="pre">FlashLoader.metadata</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.loader.LOADER"><code class="docutils literal notranslate"><span class="pre">LOADER</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.metadata.MetadataRetriever"><code class="docutils literal notranslate"><span class="pre">MetadataRetriever</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.flash.metadata.MetadataRetriever.get_metadata"><code class="docutils literal notranslate"><span class="pre">MetadataRetriever.get_metadata()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-sed.loader.sxp.loader">SXPLoader</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader"><code class="docutils literal notranslate"><span class="pre">SXPLoader</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.supported_file_types"><code class="docutils literal notranslate"><span class="pre">SXPLoader.supported_file_types</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.initialize_paths"><code class="docutils literal notranslate"><span class="pre">SXPLoader.initialize_paths()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.get_files_from_run_id"><code class="docutils literal notranslate"><span class="pre">SXPLoader.get_files_from_run_id()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.available_channels"><code class="docutils literal notranslate"><span class="pre">SXPLoader.available_channels</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.get_channels"><code class="docutils literal notranslate"><span class="pre">SXPLoader.get_channels()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.reset_multi_index"><code class="docutils literal notranslate"><span class="pre">SXPLoader.reset_multi_index()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.create_multi_index_per_electron"><code class="docutils literal notranslate"><span class="pre">SXPLoader.create_multi_index_per_electron()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.create_multi_index_per_pulse"><code class="docutils literal notranslate"><span class="pre">SXPLoader.create_multi_index_per_pulse()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.create_numpy_array_per_channel"><code class="docutils literal notranslate"><span class="pre">SXPLoader.create_numpy_array_per_channel()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.create_dataframe_per_electron"><code class="docutils literal notranslate"><span class="pre">SXPLoader.create_dataframe_per_electron()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.create_dataframe_per_pulse"><code class="docutils literal notranslate"><span class="pre">SXPLoader.create_dataframe_per_pulse()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.create_dataframe_per_train"><code class="docutils literal notranslate"><span class="pre">SXPLoader.create_dataframe_per_train()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.create_dataframe_per_channel"><code class="docutils literal notranslate"><span class="pre">SXPLoader.create_dataframe_per_channel()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.concatenate_channels"><code class="docutils literal notranslate"><span class="pre">SXPLoader.concatenate_channels()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.create_dataframe_per_file"><code class="docutils literal notranslate"><span class="pre">SXPLoader.create_dataframe_per_file()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.create_buffer_file"><code class="docutils literal notranslate"><span class="pre">SXPLoader.create_buffer_file()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.buffer_file_handler"><code class="docutils literal notranslate"><span class="pre">SXPLoader.buffer_file_handler()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.parquet_handler"><code class="docutils literal notranslate"><span class="pre">SXPLoader.parquet_handler()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.gather_metadata"><code class="docutils literal notranslate"><span class="pre">SXPLoader.gather_metadata()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.get_count_rate"><code class="docutils literal notranslate"><span class="pre">SXPLoader.get_count_rate()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.get_elapsed_time"><code class="docutils literal notranslate"><span class="pre">SXPLoader.get_elapsed_time()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.read_dataframe"><code class="docutils literal notranslate"><span class="pre">SXPLoader.read_dataframe()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.files"><code class="docutils literal notranslate"><span class="pre">SXPLoader.files</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.runs"><code class="docutils literal notranslate"><span class="pre">SXPLoader.runs</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.SXPLoader.metadata"><code class="docutils literal notranslate"><span class="pre">SXPLoader.metadata</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.sxp.loader.LOADER"><code class="docutils literal notranslate"><span class="pre">LOADER</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-sed.loader.utils">Utilities</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.utils.gather_files"><code class="docutils literal notranslate"><span class="pre">gather_files()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.utils.parse_h5_keys"><code class="docutils literal notranslate"><span class="pre">parse_h5_keys()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.utils.split_channel_bitwise"><code class="docutils literal notranslate"><span class="pre">split_channel_bitwise()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.utils.split_dld_time_from_sector_id"><code class="docutils literal notranslate"><span class="pre">split_dld_time_from_sector_id()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mirrorutil.CopyTool"><code class="docutils literal notranslate"><span class="pre">CopyTool</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mirrorutil.CopyTool.copy"><code class="docutils literal notranslate"><span class="pre">CopyTool.copy()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mirrorutil.CopyTool.size"><code class="docutils literal notranslate"><span class="pre">CopyTool.size()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mirrorutil.CopyTool.cleanup_oldest_scan"><code class="docutils literal notranslate"><span class="pre">CopyTool.cleanup_oldest_scan()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mirrorutil.get_target_dir"><code class="docutils literal notranslate"><span class="pre">get_target_dir()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mirrorutil.mymakedirs"><code class="docutils literal notranslate"><span class="pre">mymakedirs()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sed.loader.mirrorutil.mycopy"><code class="docutils literal notranslate"><span class="pre">mycopy()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/sed/loader.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, OpenCOMPES team.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>